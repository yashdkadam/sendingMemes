<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title></title>
</head>

<body>
    <script>
        subreddit = ["BikiniBottomTwitter", "AdviceAnimals", "MemeEconomy",
            "ComedyCemetery", "memes", "PrequelMemes", "PewdiepieSubmissions",
            "terriblefacebookmemes", "funny", "wholesomememes", "raimimemes",
            "historymemes", "okbuddyretard", "im14andthisisdeep", "puns", "nnn",
            "Community", "Puns", "gaming", "totallynotrobots"];
        var randomInt = Math.floor(Math.random() * 20);
        const api_url = "https://meme-api.herokuapp.com/gimme/" + subreddit[randomInt] + "/50";
        const sendUrl = "https://api.telegram.org/bot1844605763:AAHxBe1QkguzWlhh32Wr13O5tv7wbbG-5wU/sendPhoto?chat_id=@myPanelwork&photo=";
        const sendMessage = "https://api.telegram.org/bot1844605763:AAHxBe1QkguzWlhh32Wr13O5tv7wbbG-5wU/sendMessage?chat_id=@myPanelwork&text=50%20memes%20send";

        async function getapi(url, int, int) {
            const response = await fetch(url).then((d) => d.json());
            for(let i = 0; i <= response.count; i++){
            $('img').attr("href", `${response["memes"][0]["url"]`);
            $('img').click();
            location.reload();
            }
        }
        getapi(api_url, 10, 10);

        function delay(milisec) {
            return new Promise(async (resolve) => {
                setTimeout(() => { resolve('') }, milisec);
            })
        }

    </script>
    <img href="">Download</img>
</body>

</html>
